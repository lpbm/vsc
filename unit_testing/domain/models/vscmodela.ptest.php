<?php
import (VSC_FIXTURE_PATH);

/**
 * Generated by PHPUnit_SkeletonGenerator 1.2.1 on 2013-08-17 at 11:03:33.
 */
class vscModelATest extends PHPUnit_Framework_TestCase
{
	/**
	 * @var vscModelFixture
	 */
	protected $object;

	/**
	 * Sets up the fixture, for example, opens a network connection.
	 * This method is called before a test is executed.
	 */
	protected function setUp()
	{
		$this->object = new vscModelFixture();
	}

	/**
	 * Tears down the fixture, for example, closes a network connection.
	 * This method is called after a test is executed.
	 */
	protected function tearDown()
	{
		$this->object = null;
	}

	/**
	 * @covers vscModelA::setOffset
	 */
	public function testGetSetOffset()
	{
		$sOffset = 'test';
		$this->object->setOffset($sOffset);
		$this->assertEquals($sOffset, $this->object->getOffset());
	}

	/**
	 * @covers vscModelA::offsetSet
	 */
	public function testOffsetSet()
	{
		$sOffset = 'test';
		$sValue = 'asd';
		
		$this->object->offsetSet($sOffset, $sValue);
		$this->assertEquals($sValue, $this->object[$sOffset]);
	}

	/**
	 * @covers vscModelA::offsetExists
	 */
	public function testOffsetExists()
	{
		$sOffset = 'test';
		$this->assertTrue($this->object->offsetExists($sOffset));
	}

	/**
	 * @covers vscModelA::offsetExists
	 */
	public function testOffsetDoesntExist()
	{
		$sOffset = 'nonexistent';
		$this->assertFalse($this->object->offsetExists($sOffset));
	}

	/**
	 * @covers vscModelA::offsetUnset
	 * @todo   Implement testOffsetUnset().
	 */
	public function testOffsetUnset()
	{
		// this method has not yet been implemented correctly
		$this->markTestIncomplete(
			'This test has not been implemented yet.'
		);
	}

	/**
	 * @covers vscModelA::current
	 */
	public function testCurrentAtInitialization()
	{
		$this->assertEquals($this->object->test, $this->object->current());
	}

	/**
	 * @covers vscModelA::current
	 */
	public function testCurrentAtAttribution()
	{
		$sOffset = 'test';
		$this->object->$sOffset = 'test';
		
		$this->assertEquals($sOffset, $this->object->current());
	}

	/**
	 * @covers vscModelA::current
	 */
	public function testCurrentAtAttributionUsingBraketOperator()
	{
		$sOffset = 'test';
		$this->object[$sOffset] = 'test';
		
		$this->assertEquals($sOffset, $this->object->current());
	}

	/**
	 * @covers vscModelA::key()
	 */
	public function testKeyAtInitialization()
	{
		$oMirror = new ReflectionClass(get_class($this->object));
		$aProperties = $oMirror->getProperties();
		
		$oReflectionKey = array_shift($aProperties);
		
		$this->assertEquals($oReflectionKey->name, $this->object->key());
	}

	/**
	 * @covers vscModelA::next
	 */
	public function testNext()
	{
		$oMirror = new ReflectionClass($this->object);
		$properties = $oMirror->getProperties();

		foreach ($this->object as $name => $value) {
			$this->assertNotEmpty($name);
			$this->assertEquals($name, $this->object->getOffset());
		}
	}

	/**
	 * @covers vscModelA::rewind
	 */
	public function testRewind()
	{
		$oMirror = new ReflectionClass($this->object);
		$properties = $oMirror->getProperties();

		$fp = array_shift($properties);
		foreach ($this->object as $name => $value) {
			$this->assertNotEmpty($name);
		}
		$this->object->rewind();

		$this->assertEquals($fp->getName(), $this->object->getOffset());
	}

	/**
	 * @covers vscModelA::valid
	 * @todo   Implement testValid().
	 */
	public function testValid()
	{
		$oMirror = new ReflectionClass($this->object);
		$properties = $oMirror->getProperties();
		foreach ($properties as $key => $property) {
			$this->assertTrue($this->object->valid($property->getName()));
		}

		$rand = uniqid('tst:');
		$this->assertFalse($this->object->valid($rand));
	}

	/**
	 * @covers vscModelA::current
	 * @covers vscModelA::next
	 * @covers vscModelA::rewind
	 * @covers vscModelA::key
	 * @covers vscModelA::valid
	 */
	public function testImplementsIterable()
	{
		$oMirror = new ReflectionClass($this->object);

		foreach($this->object as $key => $value) {
			$this->assertTrue($oMirror->hasProperty($key));
			$this->assertEquals($value, $oMirror->getProperty($key)->getValue($this->object));
		}
	}

	/**
	 * @covers vscModelA::count
	 * @todo   Implement testCount().
	 */
	public function testCount()
	{
		// Remove the following lines when you implement this test.
		$this->markTestIncomplete(
		  'This test has not been implemented yet.'
		);
	}

	/**
	 * @covers vscModelA::__get
	 * @todo   Implement test__get().
	 */
	public function test__get()
	{
		// Remove the following lines when you implement this test.
		$this->markTestIncomplete(
		  'This test has not been implemented yet.'
		);
	}

	/**
	 * @covers vscModelA::__set
	 * @todo   Implement test__set().
	 */
	public function test__set()
	{
		// Remove the following lines when you implement this test.
		$this->markTestIncomplete(
		  'This test has not been implemented yet.'
		);
	}

	/**
	 * @covers vscModelA::toArray
	 * @todo   Implement testToArray().
	 */
	public function testToArray()
	{
		// Remove the following lines when you implement this test.
		$this->markTestIncomplete(
		  'This test has not been implemented yet.'
		);
	}
}
